---
layout:     post   				          # 使用的布局（不需要改）
title:      Linux 常用命令（一）			# 标题 
subtitle:   ubuntu 下的常用命令                #副标题
date:       2018-04-01			      # 时间
author:     Mr.Children						# 作者
header-img: img/1.jpg 	#这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								#标签
    - Linux
---
### 一. 文件和目录操作命令  
###### cd 切换目录
```  
cd -		#切换到上次的目录
cd ~		#切换到用户的家目录
cd .. 		#切换到上一级目录  
```  
###### tree  树形结构  
```
tree -a		#显示所有文件包括隐藏文件
tree -d		#只显示所有的目录
tree -f		#只显示每个文件的全路径
tree -i		#不显示树枝,常与f 参数配合使用
tree -L 1	#只遍历一层
```							
###### mkdir 创建目录 
```   
mkdir -p			#递归创建多级目录
mkdir -p wei/test
mkdir -v			#创建目录的过程
mkdir -pv wei/{dir1_1,dir1_2}/{dir2_1,dir2_2}	
mkdir -pv test/dir{1..5} wei/{a..g}		#分别创建test/与old/下的多个子文件夹
```
###### ls 显示目录下的内容以及详细信息
```
ls -a		#显示所有的文件信息,包括隐藏的文件信息
ls -l		#显示详细信息
ls -lR		#递归查看参数
```
###### cp 文件的复制
```
cp source target			#基本语法
cp -i					#交互式的操作
cp -a					#递归复制整个目录文件
```
###### mv 移动或重命名文件
```
mv source target		#基本语法
mv test1 test2			#将test1重命名为test2
mv dir1 dir2			#如果dir2存在则移动到dir2中不存在就为重命名
```
###### rm 删除文件或目录(少用,永久删除)
```
rm -fr		#强制递归删除目录内容       
rm -i 		#交互式的删除
```
###### rmdir 删除空目录
```
rmdir -pv wei		#递归删除空目录
```
###### rename 重命名文件
```
rename "we" "" *			#将所有文件的we替换为空
rename .jpg .jpeg *.jpg			#将所有.jpg 文件的后缀名改为.jpeg
```
###### touch 创建文件
###### ln 硬链接与软链接
```
#硬链接为多个文件指向同一个索引节点,主要是为了防止误删源文件
ln source target		#创建硬链接
ln target source		#删除某个文件后会恢复文件	  
#创建软链接,相当于快捷方式,当前的文件位置可以用`pwd`表示
ln -s source target		#删除源文件会使软链接失效			
```
###### chown 修改文件的属主
```
chown -R wei.users test.txt		#wei是用户,users为属组
```	
###### chmod 改变文件或目录的权限
```
#r w x 分别对应读 写 执行;u g o 对应的用户 组 其他用户;+ - =
chmod ug+r,o-r test.txt
chmod a = rwx test.txt		#将所有用户的权限修改
# r w x 分别对应的4 2 1
chmod  755 test.txt		# 三个数字分别对应属主 属组 其他用户
chmod -R 755 test.txt 		#递归修改权限
```  
### 二. 文件过滤及内容编辑处理命令
###### cat 创建与查看文件 
```
cat <<END >test.txt				#创建新文件
cat -n						#对每一行进行编号
cat -b						#对每一行不包括空白行进行编号
cat -E						#把文件末尾的隐藏标志符显示出来$空行也有
cat -s						#把多个空行变成一个空行
cat file1 file2					#共同显示文件
```
###### more 分页显示文件内容
```
more -5 test.txt		#每页显示五行,用b 可以翻页 用/可以查询文件
more +888 test.txt		#在第888行开始显示文件的内容
ls -l|more -10			#分页显示文件与目录
```
###### less 
```
less -N test.txt		#显示行号
ls -l | less			#分屏显示结果
less -s test.txt		#多行空格变成一个空格
```
###### head 现实文件的头部前十行
```
head -n 5 test.txt		#显示前五行
head -2 file1 file2		#现实多个文件的前两行
```
###### tac 反向显示文件内容(从最后一行开始显示)
###### tail 显示文件的尾部后十行
###### cut 从文本中提取一段文字并输出
```
cut -d : -f 1 test.txt		#指定分隔符,默认为TAB ,显示第一个区域
```
###### sort 文本排序
```
sort test.txt			#默认是ASCII排序
sort -n test.txt		#数字大小排序
sort -nu test.txt		#去除重复
sort file | uniq -d		#获取重复行并输出
sort file | uniq -c		#输出重复行的次数
```
###### wc -l 统计文件的行数
###### iconv 转换文件的编码格式
```
iconv -f gb2312 -t utf-8 GB2312.txt		#将gb2312的格式改成utf-8 格式
```
###### rev 文本的反转,逐个字符的反转
###### tr 标准输入中替换\缩减或删除,并将结果写到标准输出中去
```
tr 'abc' 'def' < test.txt		#不仅仅abc替换为def 而且a-d,b-e,c-f
tr '[a-z]' '[A-Z]' < test.txt		#统一大小写
tr '[0-9]' '[a-j]' < test.txt		#将数字0-9替换为a-j
tr -d 'general' < test.txt		#删除general 所有字符
tr -d '\n\t' < test.txt			#删除换行符和制表符
echo 'wwwweeeeeiii' | tr -s wei		#压缩成一个字符
```
###### tee 多重定向 
```
ls |tee ls.txt			#不仅输出到屏幕上而且会追加到文件中
ls |tee -a ls.txt		#添加a 参数会追加而不是直接覆盖原文件			
```
### 三. 文件搜索与用户管理、信息查询
###### 统计磁盘空间使用情况
```
du -h		#显示当前目录下所有文件的大小
du -sh		#显示当前目录的总大小
```
###### which 显示命令的全路径
```
#查找命令在哪里,查找的是PATH环境变量的路径
which -a python		#查看所有python 的路径
```
###### where 显示命令以及相关文件全路径
```
#定位指定命令的可执行文件,源码文件和man 帮助文件
whereis python
```
###### locate 快速定位文件路径
```
#使用前先updatedb来更新mlocate 数据库
locate my-blog		#将会查找所有包含my-blog 的文件夹或文件
```
### 四. 磁盘与文件管理、进程管理、网络管理、系统管理
###### fdisk 系统分区
```
sudo fdisk -l			#查看所有的系统分区
sudo fdisk -l dev/sdb		#查看指定的分区
```
###### mount 与umount 挂载文件系统
```
# sudo fdisk -l查看设备的位置
mount -t vfat /dev/sdb/ /mnt		#指定文件的类型
mount -r 				#只读挂载
mount -w 				#读写挂载
umount -lf				#直接强制卸载
```
###### df -h 显示磁盘的使用情况
###### ps 查看进程
```
ps -ef | grep ssh		#查看特定的进程
pstree				#显示进程树
```
###### kill 终止进程
```
kill -l				#显示所有的信号
kill 1234			#kill 默认的是信号15
kill -9 1234			#强制终止进程
```
###### ssh 远程登陆主机
```
ssh -p 22  root@104.207.129.72 		#指定端口22
passwd:
```
###### wget 命令行下载工具
```
wget -O /home/wei/1.txt http://www.baidu.com		#指定文件的名称
wget -c http://www.baidu.com				#断点续传
wget -b http://www.baidu.com				#后台下载
wget --user-agent="" http://www.baidu.com		#伪装成代理下载
```
###### lsof 查看进程打开的文件
```
lsof -i :22		#显示端口为22 的进程
lsof -i tcp		#显示所有tcp 网络连接的进程信息
```
###### free -m -h 显示内存的使用情况
### 五. 文件备份与压缩命令
###### tar 打包命令
```
-z 		#通过gzip压缩或解压
-c 		#创建新的tar包
-v 		#显示详细的tar命令执行过程
-f 		#指定压缩文件的名称
-j 		#通过bzip2命令压缩或解压
-C 		#指定解压的目录
tar -zcvf 1.tar.gz ./home/
tar -ztvf 1.tar.gz			#不解压查看文件的内容
tar -zxvf 1.tar.gz -C /tmp/		#解包到指定目录
```
###### gzip 压缩或解压文件(不能直接压缩目录,先用tar打包成文件,再调用gzip压缩)
```
gzip -dv 1.gz			#解开文件
gzip -l 1.gz			#不解压列出文件的内容信息 
gzip -c 1 >1.gz 		#将内容输出到标准输出,不改变原始文件
gzip -dc services.gz >services
gzip-r				#对目录下的文件进行递归操作
#zcat\zgrep\zless\zdiff 都可以不解压直接操作压缩文件
zcat services.gz |head
```
###### zip 与unzip处理文件
```
zip services.zip ./services
zip -r tmp.zip /tmp/			#指定目录下的所有文件和子目录一并压缩
zip -r tmp.zip /tmp/ -x tmp/services.zip#压缩文件时排除某个文件
unzip -l tmp.zip			#不解压显示压缩包的内容
unzip -d /tmp tmp.zip			#指定解压目录
```
###### scp 的使用
```
# 将本地文件clone 到服务器上
scp  /home/wei/wode.txt  root@104.207.129.72:/home/wei 
# 将服务器上的文件下载到本地
scp root@104.207.129.72:/home/wei/wode.txt /home/wei/
# 复制文件夹,要加上r 参数
scp -r /home/wei/test root@104.207.129.72:/home/wei/
```